/*! Protected Content - v1.1.0
 * https://premium.wpmudev.org/project/membership/
 * Copyright (c) 2015; * Licensed GPLv2+ */
jQuery(function(){function e(){n.is(":visible")?n.find('input[name="log"]').focus():a.is(":visible")&&a.find('input[name="user_login"]').focus()}function t(e){e.addClass("progress"),e.find("input, textarea, select, button").each(function(){jQuery(this).data("ms-disabled",jQuery(this).prop("disabled")),jQuery(this).prop("disabled",!0).addClass("disabled")})}function i(e){e.removeClass("progress").prop("disabled",!1),e.find("input, textarea, select, button").each(function(){jQuery(this).data("ms-disabled")||jQuery(this).prop("disabled",!1).removeClass("disabled")})}function s(e,t){void 0!==t.error?e.addClass("error").text(t.error):void 0!==t.success&&e.removeClass("error").text(t.success)}var r=window.ms_ajax_login,n=jQuery('form[action="login"]'),a=jQuery('form[action="lostpassword"]'),o=n.find(".status"),u=a.find(".status"),d=jQuery("a.login","form"),l=jQuery("a.lost","form");l.on("click",function(){n.hide(),a.show(),u.removeClass("error").text(""),e()}),d.on("click",function(){a.hide(),n.show(),o.removeClass("error").text(""),e()}),n.on("submit",function(e){var a,u={},d=n.serializeArray(),l=n.find('input[name="redirect_to"]');o.removeClass("error").show().text(r.loadingmessage),t(n);for(a in d)d.hasOwnProperty(a)&&(u[d[a].name]=d[a].value);return u.action="ms_login",jQuery.ajax({type:"POST",dataType:"json",url:r.ajaxurl,data:u,success:function(e){i(n),s(o,e),e.loggedin&&(document.location.href=l.val())},error:function(){var e={error:r.errormessage};i(n),s(o,e)}}),e.preventDefault(),!1}),a.on("submit",function(e){var n,o={},d=a.serializeArray();u.removeClass("error").show().text(r.loadingmessage),t(a);for(n in d)d.hasOwnProperty(n)&&(o[d[n].name]=d[n].value);return o.action="ms_lostpass",jQuery.ajax({type:"POST",dataType:"json",url:r.ajaxurl,data:o,success:function(e){i(a),s(u,e)},error:function(){var e={error:r.errormessage};i(a),s(u,e)}}),e.preventDefault(),!1}),e()});