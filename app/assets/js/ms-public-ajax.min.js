/*! Membership 2 Pro - v1.0.25
 * https://premium.wpmudev.org/project/membership/
 * Copyright (c) 2015; * Licensed GPLv2+ */
jQuery(function(){function e(){var e=!1;r.is(":visible")?e=r:o.is(":visible")&&(e=o),e&&e.find("input.focus").focus()}function t(e){e.addClass("progress"),e.find("input, textarea, select, button").each(function(){jQuery(this).data("ms-disabled",jQuery(this).prop("disabled")),jQuery(this).prop("disabled",!0).addClass("disabled")})}function i(e){e.removeClass("progress").prop("disabled",!1),e.find("input, textarea, select, button").each(function(){jQuery(this).data("ms-disabled")||jQuery(this).prop("disabled",!1).removeClass("disabled")})}function a(e,t){void 0!==t.error?e.addClass("error").text(t.error):void 0!==t.success&&e.removeClass("error").text(t.success)}function n(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent,i=RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=i.exec(t)&&(e=parseFloat(RegExp.$1))}else if("Netscape"==navigator.appName){var t=navigator.userAgent,i=RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");null!=i.exec(t)&&(e=parseFloat(RegExp.$1))}return e}var s=window.ms_ajax_login,r=jQuery('form[action="login"]'),o=jQuery('form[action="lostpassword"]'),d=r.find(".status"),u=o.find(".status"),l=jQuery("a.login","form"),m=jQuery("a.lost","form");m.on("click",function(){r.hide(),o.show(),u.removeClass("error").text(""),e()}),l.on("click",function(){o.hide(),r.show(),d.removeClass("error").text(""),e()}),r.on("submit",function(e){var r,o={},u=jQuery(this),l=u.serializeArray(),m=u.find('input[name="redirect_to"]');d.removeClass("error").show().text(s.loadingmessage),t(u);for(r in l)l.hasOwnProperty(r)&&(o[l[r].name]=l[r].value);o.action="ms_login";var c=s.ajaxurl;return 11==n()&&(c="wp-admin/admin-ajax.php"),jQuery.ajax({type:"POST",dataType:"json",url:c,data:o,success:function(e){i(u),a(d,e),e.loggedin&&(document.location.href=void 0!==e.redirect&&e.redirect.length>5?e.redirect:m.val())},error:function(){var e={error:s.errormessage};i(u),a(d,e)}}),e.preventDefault(),!1}),o.on("submit",function(e){var n,r={},d=o.serializeArray();u.removeClass("error").show().text(s.loadingmessage),t(o);for(n in d)d.hasOwnProperty(n)&&(r[d[n].name]=d[n].value);return r.action="ms_lostpass",jQuery.ajax({type:"POST",dataType:"json",url:s.ajaxurl,data:r,success:function(e){i(o),a(u,e)},error:function(){var e={error:s.errormessage};i(o),a(u,e)}}),e.preventDefault(),!1}),r.hasClass("autofocus")&&e()});